<script setup>

import AdminLayout from "@/Layouts/AdminLayout.vue";
import {useForm} from "@inertiajs/vue3";
import {capitalizeFirstLetter} from "@/composables/capitalizeFirstLetter.js";
import {defineProps, onMounted, ref} from "vue";
import Card from "@/components/Admin/Layout/Card.vue";
import BaseInput from "@/components/ui/BaseInput.vue";
import BlueButton from "@/components/ui/BlueButton.vue";
import BaseLabel from "@/components/ui/BaseLabel.vue";
import CardHeader from "@/components/Admin/Layout/CardHeader.vue";


const props = defineProps({
    subjects: Array,
});

const form = useForm({
        subject: '',
    }
)
const submit = () => {
    form.post(route('subjects.store'), {
        onSuccess: () => {
            form.reset();
        }
    })
};

// const logs = ref([])
//
// onMounted(() => {
//     logs.value.push('ðŸ“¡ ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ÑÑ Ðº notifications...')
//     window.Echo.channel('notifications')
//         .listen('.TicketCreated', (e) => {
//             logs.value.push('ðŸ’¥ TicketCreated Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾: ' + JSON.stringify(e.ticket))
//         });
// });

</script>

<template>
    <Card class="w-1/2">
        <CardHeader>Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚</CardHeader>

        <form @submit.prevent="submit">
            <div class="mb-4">
                <BaseLabel
                    :for="subject"
                    text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð°"
                />
                <BaseInput
                    v-model="form.subject"
                    id="subject"
                    type="text"
                    class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð° Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ð±ÑƒÐºÐ²Ñ‹"
                    required
                />
            </div>
            <BlueButton
            >
                Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚
            </BlueButton>
        </form>

<!--        <div class="p-4 bg-gray-100 border rounded">-->
<!--            <h2 class="text-lg font-bold mb-2">ðŸŽ§ Echo Debug</h2>-->
<!--            <ul>-->
<!--                <li v-for="(log, index) in logs" :key="index">{{ log }}</li>-->
<!--            </ul>-->
<!--        </div>-->
    </Card>
</template>

<style scoped>

</style>


